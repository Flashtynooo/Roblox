-- Créer une ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Créer une Frame principale (anim)
local animFrame = Instance.new("Frame")
animFrame.Name = "anim"
animFrame.Size = UDim2.new(0, 300, 0, 250)  -- Taille initiale de la Frame avec plus d'espace
animFrame.Position = UDim2.new(0.5, -150, 0.5, -125)  -- Position centrée
animFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  -- Couleur de fond noire
animFrame.BorderSizePixel = 2
animFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)
animFrame.Parent = screenGui

-- Créer un titre et les boutons Minimize et Close
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)  -- Barre de titre en haut
titleBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
titleBar.Parent = animFrame

local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 50, 0, 30)
minimizeButton.Position = UDim2.new(1, -60, 0, 0)
minimizeButton.Text = "Minimiser"
minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.Font = Enum.Font.SourceSans
minimizeButton.TextSize = 14
minimizeButton.Parent = titleBar

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 50, 0, 30)
closeButton.Position = UDim2.new(1, -120, 0, 0)
closeButton.Text = "Retirer"
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.SourceSans
closeButton.TextSize = 14
closeButton.Parent = titleBar

-- Fonction pour déplacer la Frame avec le glissement
local dragging = false
local dragStart = nil
local startPos = nil

animFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = animFrame.Position
    end
end)

animFrame.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.Touch then
        local delta = input.Position - dragStart
        animFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

animFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

-- Créer une ScrollingFrame pour les boutons d'animation
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Size = UDim2.new(1, -20, 1, -60)  -- Ajustée pour ne pas toucher les boutons Minimize et Close
scrollFrame.Position = UDim2.new(0, 10, 0, 40)  -- Position légèrement espacée de la bordure
scrollFrame.BackgroundTransparency = 1
scrollFrame.ScrollBarThickness = 10  -- Taille de la barre de défilement
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 600)  -- Suffisant pour faire défiler 10 boutons
scrollFrame.Parent = animFrame

local uiListLayout = Instance.new("UIListLayout")
uiListLayout.Parent = scrollFrame
uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder
uiListLayout.Padding = UDim.new(0, 5)  -- Espacement réduit entre les boutons

-- Créer les boutons d'animation 1 à 10
for i = 1, 10 do
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -10, 0, 30)  -- Taille plus petite
    button.Text = "Animation " .. i
    button.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.SourceSans
    button.TextSize = 16
    button.Parent = scrollFrame

    -- Exemple d'action pour chaque bouton
    button.MouseButton1Click:Connect(function()
        if i == 1 then
            -- Jouer l'animation 'Idle' pour l'animation 1
            local player = game.Players.LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")

            -- Charger et jouer l'animation
            local animation = Instance.new("Animation")
            animation.AnimationId = "rbxassetid://363698298"
            local animationTrack = humanoid:LoadAnimation(animation)
            animationTrack:Play()

            print("Animation 1 (Idle) exécutée")
        end
        -- Ajouter ici d'autres actions pour les autres boutons d'animation si nécessaire
    end)
end

-- Fonction pour minimiser la Frame
local isMinimized = false
minimizeButton.MouseButton1Click:Connect(function()
    if isMinimized then
        animFrame.Size = UDim2.new(0, 300, 0, 250)  -- Rétablir la taille originale
        scrollFrame.Visible = true  -- Afficher les boutons
        minimizeButton.Text = "Minimiser"  -- Changer le texte du bouton
    else
        animFrame.Size = UDim2.new(0, 300, 0, 40)  -- Réduire la taille de la frame
        scrollFrame.Visible = false  -- Cacher les boutons
        minimizeButton.Text = "Rétablir"  -- Changer le texte du bouton
    end
    isMinimized = not isMinimized
end)

-- Fonction pour retirer (fermer) la Frame
closeButton.MouseButton1Click:Connect(function()
    animFrame:Destroy()  -- Supprimer la Frame
end)
