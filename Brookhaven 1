
local gui = game.CoreGui:FindFirstChild("FlshtyHub")
if gui then
    gui:Destroy()
end
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "FlshtyHub"
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 300, 0, 260)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -130)
MainFrame.BackgroundColor3 = Color3.fromRGB(130, 0, 255)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 16)

local UIStroke = Instance.new("UIStroke", MainFrame)
UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(255, 20, 147)

spawn(function()
	while wait(0.1) do
		UIStroke.Color = Color3.fromRGB(math.random(100,255), 0, math.random(100,255))
	end
end)

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Text = "Flshty HUB: BROOKHAVEN"
Title.TextColor3 = Color3.fromRGB(57, 255, 20)
Title.TextScaled = true
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.Code

-- Ajout de la cat√©gorie "Soon"
local buttonNames = {"Info", "Music", "Player", "Tools", "Soon"}
local buttons = {}

for i, name in ipairs(buttonNames) do
	local btn = Instance.new("TextButton", MainFrame)
	btn.Name = name.."Button"
	btn.Size = UDim2.new(1/#buttonNames, -10, 0, 30)
	btn.Position = UDim2.new((i-1)/#buttonNames, 5, 0, 35)
	btn.BackgroundColor3 = Color3.fromRGB(200, 0, 200)
	btn.TextColor3 = Color3.fromRGB(0, 255, 255)
	btn.Font = Enum.Font.Arcade
	btn.TextSize = 16
	btn.Text = name
	btn.AutoButtonColor = true
	local UICornerBtn = Instance.new("UICorner", btn)
	UICornerBtn.CornerRadius = UDim.new(0, 12)
	
	buttons[name] = btn
	
	btn.MouseButton1Click:Connect(function()
		_G.ShowCategory(name)
	end)
end

local function createCategoryFrame(name)
	local frame = Instance.new("ScrollingFrame", MainFrame)
	frame.Name = name
	frame.Size = UDim2.new(1, -20, 1, -80)
	frame.Position = UDim2.new(0, 10, 0, 70)
	frame.BackgroundColor3 = Color3.fromRGB(100, 0, 150)
	frame.BorderSizePixel = 0
	frame.CanvasSize = UDim2.new(0, 0, 1, 0)
	frame.ScrollBarThickness = 6
	Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)
	frame.Visible = false
	return frame
end

_G2info = createCategoryFrame("Info")
_G2music = createCategoryFrame("Music")
_G2Player = createCategoryFrame("Player")
_G2Tools = createCategoryFrame("Tools")
_G2Soon = createCategoryFrame("Soon")

function _G.ShowCategory(name)
	_G2info.Visible = false
	_G2music.Visible = false
        _G2Player.Visible = false
        _G2Tools.Visible = false
	_G2Soon.Visible = false

	if name == "Info" then
		_G2info.Visible = true
	elseif name == "Music" then
		_G2music.Visible = true
        elseif name == "Player" then
		_G2Player.Visible = true
	elseif name == "Tools" then
		_G2Tools.Visible = true
	elseif name == "Soon" then
		_G2Soon.Visible = true
	end
end

_G.ShowCategory("Info")

local infoText = Instance.new("TextLabel", _G2info)
infoText.Size = UDim2.new(1, -20, 0, 160)
infoText.Position = UDim2.new(0, 10, 0, 10)
infoText.BackgroundTransparency = 1
infoText.TextColor3 = Color3.fromRGB(0, 255, 255)
infoText.TextWrapped = true
infoText.TextScaled = true
infoText.Font = Enum.Font.Arcade
infoText.TextXAlignment = Enum.TextXAlignment.Center
infoText.TextYAlignment = Enum.TextYAlignment.Center

local soonText = Instance.new("TextLabel", _G2Soon)
soonText.Size = UDim2.new(1, -20, 0, 160)
soonText.Position = UDim2.new(0, 10, 0, 10)
soonText.BackgroundTransparency = 1
soonText.TextColor3 = Color3.fromRGB(0, 255, 255)
soonText.TextWrapped = true
soonText.TextScaled = true
soonText.Font = Enum.Font.Arcade
soonText.TextXAlignment = Enum.TextXAlignment.Center
soonText.TextYAlignment = Enum.TextYAlignment.Center

local lang = game:GetService("LocalizationService").RobloxLocaleId
local langShort = string.sub(lang, 1, 2)

if langShort == "fr" then
    infoText.Text =
        "üåå Flshty HUB\n\n"..
        "Si tu as le **pass musique**, √©quipe un **v√©hicule** pour √©couter la musique.\n\n"..
        "üõ†Ô∏è Normalement tu dois faire des actions pour obtenir des gears, mais avec Flshty HUB tu les obtiens en 1 clique."
    soonText.Text = "üöß Cette section arrivera bient√¥t. :)"
elseif langShort == "es" then
    infoText.Text =
        "üåå Flshty HUB\n\n"..
        "Si tienes el **pase de m√∫sica**, equipa un **veh√≠culo** para escuchar m√∫sica.\n\n"..
        "üõ†Ô∏è Normalmente necesitas hacer acciones para obtener gears, pero con Flshty HUB los obtienes en 1 cÿölÿöiÿöcÿö."
    soonText.Text = "üöß Esta secci√≥n llegar√° pronto."
elseif langShort == "it" then
    infoText.Text =
        "üåå Flshty HUB\n\n"..
        "Se hai il **pass musica**, equipaggia un **veicolo** per ascoltare la musica.\n\n"..
        "üõ†Ô∏è Normalmente devi fare azioni per ottenere gears, ma con Flshty HUB li ottieni in 1 cÿölÿöiÿöcÿö."
    soonText.Text = "üöß Questa sezione arriver√† presto."
elseif langShort == "de" then
    infoText.Text =
        "üåå Flshty HUB\n\n"..
        "Wenn du den **Musik-Pass** hast, r√ºste ein **Fahrzeug** aus, um Musik zu h√∂ren.\n\n"..
        "üõ†Ô∏è Normalerweise musst du Aktionen ausf√ºhren, um Gears zu erhalten, aber mit Flshty HUB bekommst du sie mit 1 Kÿölÿöiÿöcÿökÿö."
    soonText.Text = "üöß Dieser Abschnitt kommt bald."
else
    infoText.Text =
        "üåå Flshty HUB\n\n"..
        "If you have the **music pass**, equip a **vehicle** to play music.\n\n"..
        "üõ†Ô∏è Normally you need to do actions to get gears, but with Flshty HUB you get them in 1 cÿölÿöiÿöcÿökÿö."
    soonText.Text = "üöß This section will arrive sÿöoÿöoÿönÿö."
end

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RE_Scooter = ReplicatedStorage:WaitForChild("RE"):WaitForChild("1NoMoto1rVehicle1s")
local RE_Car = ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Player1sCa1r")

local lang = Players.LocalPlayer.LocaleId

local translations = {
    ["fr"] = {
        music = "üé∂ MUSIQUES üé∂",
        placeholder = "üì• ID Musique...",
    },
    ["en"] = {
        music = "üé∂ MUSICS üé∂",
        placeholder = "üì• Music ID...",
    },
    ["es"] = {
        music = "üé∂ M√öSICAS üé∂",
        placeholder = "üì• ID de M√∫sica...",
    },
    ["it"] = {
        music = "üé∂ MUSICHE üé∂",
        placeholder = "üì• ID Musica...",
    },
    ["de"] = {
        music = "üé∂ MUSIK üé∂",
        placeholder = "üì• Musik-ID...",
    },
}

local t = translations[string.sub(lang, 1, 2)] or translations["en"]

_G2music.CanvasSize = UDim2.new(0, 0, 0, 9999)
_G2music:ClearAllChildren()

local yPosition = 10

-- === TEXTBOX POUR ID CUSTOM ===
local musicIdBox = Instance.new("TextBox", _G2music)
musicIdBox.Size = UDim2.new(0.7, 0, 0, 40)
musicIdBox.Position = UDim2.new(0.05, 0, 0, yPosition)
musicIdBox.PlaceholderText = t.placeholder
musicIdBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
musicIdBox.TextColor3 = Color3.fromRGB(0, 255, 0)
musicIdBox.TextScaled = true
musicIdBox.Font = Enum.Font.Code
Instance.new("UICorner", musicIdBox).CornerRadius = UDim.new(0, 8)

local playMusic = Instance.new("TextButton", _G2music)
playMusic.Size = UDim2.new(0.2, 0, 0, 40)
playMusic.Position = UDim2.new(0.76, 0, 0, yPosition)
playMusic.Text = "‚ñ∂Ô∏è"
playMusic.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
playMusic.TextColor3 = Color3.fromRGB(0, 255, 0)
playMusic.TextScaled = true
playMusic.Font = Enum.Font.Arcade
Instance.new("UICorner", playMusic).CornerRadius = UDim.new(0, 8)

yPosition = yPosition + 50

playMusic.MouseButton1Click:Connect(function()
	local id = musicIdBox.Text
	if id ~= "" then
		RE_Scooter:FireServer("PickingScooterMusicText", id)
		RE_Car:FireServer("PickingCarMusicText", id)
	end
end)

-- === MUSIQUES PR√â-D√âFINIES ===
local predefined = {
	{ name = "Doors Ending Theme", id = "103086632976213" },
	{ name = "~Obama Boss Fight~", id = "131902818695416" },
	{ name = "Ritual Phonk Madness", id = "115175275895587" },
	{ name = "Metamorphosis", id = "15689451063" },
	{ name = "H.R --EEYUH!", id = "16190782181" },
	{ name = "~Deja Vu~", id = "16831106636" },
	{ name = "HERE I COME", id = "78534559289195" },
	{ name = "Squid game carousel", id = "70418542248389" },
	{ name = "Curiosity", id = "80712503354465" },
	{ name = " P (Ims) [Key After Key]", id = "136274352281439" },
}

local musicFrame = Instance.new("Frame", _G2music)
musicFrame.Size = UDim2.new(0.9, 0, 0, (#predefined * 50) + 40)
musicFrame.Position = UDim2.new(0.05, 0, 0, yPosition)
musicFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", musicFrame).CornerRadius = UDim.new(0, 12)

local musicLabel = Instance.new("TextLabel", musicFrame)
musicLabel.Size = UDim2.new(1, 0, 0, 30)
musicLabel.Position = UDim2.new(0, 0, 0, 0)
musicLabel.Text = t.music
musicLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
musicLabel.BackgroundTransparency = 1
musicLabel.TextScaled = true
musicLabel.Font = Enum.Font.Arcade

for i, music in ipairs(predefined) do
	local button = Instance.new("TextButton", musicFrame)
	button.Size = UDim2.new(0.9, 0, 0, 40)
	button.Position = UDim2.new(0.05, 0, 0, 30 + (i-1)*45)
	button.Text = music.name
	button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	button.TextColor3 = Color3.fromRGB(0, 255, 0)
	button.TextScaled = true
	button.Font = Enum.Font.Arcade
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

	button.MouseButton1Click:Connect(function()
		RE_Scooter:FireServer("PickingScooterMusicText", music.id)
		RE_Car:FireServer("PickingCarMusicText", music.id)
	end)
end
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RE = ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Too1l")

local folder = workspace:FindFirstChild("WorkspaceCom")
local giveTools = folder and folder:FindFirstChild("001_GiveTools")

if not folder or not giveTools then
    warn("‚ùå WorkspaceCom ou 001_GiveTools non trouv√©.")
    return
end




_G2Player.CanvasSize = UDim2.new(0, 0, 0, 9999)
_G2Player:ClearAllChildren()
-- BOUTON AUTO-UNBAN DANS LA SECTION PLAYER

local autoUnbanUsed = false

local autoUnbanButton = Instance.new("TextButton", _G2Player)
autoUnbanButton.Size = UDim2.new(0.8, 0, 0, 40)
autoUnbanButton.Position = UDim2.new(0.1, 0, 0, 10)
autoUnbanButton.BackgroundColor3 = Color3.fromRGB(200, 0, 200)
autoUnbanButton.TextColor3 = Color3.fromRGB(0, 255, 255)
autoUnbanButton.Font = Enum.Font.Arcade
autoUnbanButton.TextSize = 18
autoUnbanButton.Text = "Auto-Unban"
Instance.new("UICorner", autoUnbanButton).CornerRadius = UDim.new(0, 12)

autoUnbanButton.MouseButton1Click:Connect(function()
	if autoUnbanUsed then return end
	autoUnbanUsed = true

	-- Ton code anti-ban ici :
	-- AUTO-UNBAN (WAIT 1s AVANT SUPPRESSION POUR BYPASS)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Supprime tous les BannedBlock existants avec un d√©lai de 1s
for _, obj in ipairs(game:GetDescendants()) do
    if obj:IsA("BasePart") and obj.Name == "BannedBlock" then
        task.spawn(function()
            task.wait(1)
            pcall(function()
                obj:Destroy()
            end)
        end)
    end
end

-- Surveille les nouveaux descendants
game.DescendantAdded:Connect(function(obj)
    if obj:IsA("BasePart") and obj.Name == "BannedBlock" then
        task.spawn(function()
            task.wait(1)
            pcall(function()
                obj:Destroy()
            end)
        end)
    end

    -- Surveille les renommages post-cr√©ation
    if obj:IsA("BasePart") then
        obj:GetPropertyChangedSignal("Name"):Connect(function()
            if obj.Name == "BannedBlock" then
                task.spawn(function()
                    task.wait(1)
                    pcall(function()
                        obj:Destroy()
                    end)
                end)
            end
        end)
    end
end)

	-- Exemple de placeholder :
	pcall(function()
		game.Players.LocalPlayer.Character.Humanoid.Health = game.Players.LocalPlayer.Character.Humanoid.MaxHealth
	end)

	-- Feedback visuel apr√®s clic
	autoUnbanButton.Text = "‚úÖ Unbanned"
	autoUnbanButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
	wait(0.5)
	autoUnbanButton.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
end)






_G2Tools.CanvasSize = UDim2.new(0, 0, 0, 9999)
_G2Tools:ClearAllChildren()

-- === BARRE DE RECHERCHE ===
local searchBox = Instance.new("TextBox")
searchBox.Parent = _G2Tools
searchBox.Size = UDim2.new(0.8, 0, 0, 40)
searchBox.Position = UDim2.new(0.1, 0, 0, 10)
searchBox.PlaceholderText = "üîç Rechercher un tool..."
searchBox.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
searchBox.TextColor3 = Color3.fromRGB(0, 255, 0)
searchBox.TextScaled = true
searchBox.Font = Enum.Font.Code
Instance.new("UICorner", searchBox).CornerRadius = UDim.new(0, 8)

local yPosition = 60

-- === SECTION SECRET TOOLS ===
local secretTools = {"Crystals", "Crystal", "Couch", "AgencyBook"}

local secretFrame = Instance.new("Frame", _G2Tools)
secretFrame.Size = UDim2.new(0.9, 0, 0, (#secretTools * 50) + 40)
secretFrame.Position = UDim2.new(0.05, 0, 0, yPosition)
secretFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", secretFrame).CornerRadius = UDim.new(0, 12)

local secretLabel = Instance.new("TextLabel", secretFrame)
secretLabel.Size = UDim2.new(1, 0, 0, 30)
secretLabel.Position = UDim2.new(0, 0, 0, 0)
secretLabel.Text = "‚ú® SECRET TOOLS ‚ú®"
secretLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
secretLabel.BackgroundTransparency = 1
secretLabel.TextScaled = true
secretLabel.Font = Enum.Font.Arcade

for i, toolName in ipairs(secretTools) do
    local button = Instance.new("TextButton", secretFrame)
    button.Size = UDim2.new(0.9, 0, 0, 40)
    button.Position = UDim2.new(0.05, 0, 0, 30 + (i-1)*45)
    button.Text = toolName
    button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    button.TextColor3 = Color3.fromRGB(0, 255, 0)
    button.TextScaled = true
    button.Font = Enum.Font.Arcade
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

    button.MouseButton1Click:Connect(function()
        RE:InvokeServer("PickingTools", toolName)
    end)
end

yPosition = yPosition + secretFrame.Size.Y.Offset + 20

-- === SECTION TOOLS ORDONN√âS ===
local allTools = {}
for _, item in ipairs(giveTools:GetChildren()) do
    if (item:IsA("Tool") or item:IsA("Model") or item:IsA("Part")) and not table.find(secretTools, item.Name) then
        allTools[item.Name] = true
    end
end

local sortedTools = {}
for name, _ in pairs(allTools) do
    table.insert(sortedTools, name)
end
table.sort(sortedTools)

local toolsFrame = Instance.new("Frame", _G2Tools)
toolsFrame.Size = UDim2.new(0.9, 0, 0, (#sortedTools * 50) + 40)
toolsFrame.Position = UDim2.new(0.05, 0, 0, yPosition)
toolsFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Instance.new("UICorner", toolsFrame).CornerRadius = UDim.new(0, 12)

local toolsLabel = Instance.new("TextLabel", toolsFrame)
toolsLabel.Size = UDim2.new(1, 0, 0, 30)
toolsLabel.Position = UDim2.new(0, 0, 0, 0)
toolsLabel.Text = "üõ†Ô∏è TOOLS üõ†Ô∏è"
toolsLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
toolsLabel.BackgroundTransparency = 1
toolsLabel.TextScaled = true
toolsLabel.Font = Enum.Font.Arcade

local buttons = {}

for i, toolName in ipairs(sortedTools) do
    local button = Instance.new("TextButton", toolsFrame)
    button.Size = UDim2.new(0.9, 0, 0, 40)
    button.Position = UDim2.new(0.05, 0, 0, 30 + (i-1)*45)
    button.Text = toolName
    button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    button.TextColor3 = Color3.fromRGB(0, 255, 0)
    button.TextScaled = true
    button.Font = Enum.Font.Arcade
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

    button.MouseButton1Click:Connect(function()
        RE:InvokeServer("PickingTools", toolName)
    end)

    table.insert(buttons, {Button = button, Name = toolName:lower()})
end

-- === RECHERCHE FILTRANTE ===
searchBox:GetPropertyChangedSignal("Text"):Connect(function()
    local query = searchBox.Text:lower()
    for _, data in ipairs(buttons) do
        data.Button.Visible = (query == "" or data.Name:find(query))
    end
end)
