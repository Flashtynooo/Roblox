-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer

-- Taille du hub
local HUB_WIDTH, HUB_HEIGHT = 420, 300
local COLLAPSED_HEIGHT = 40
local ANIM_TIME = 0.5

-- Initialisation globale
_G.Sections = _G.Sections or {}
_G.SelectedLanguage = _G.SelectedLanguage or "auto"

-- Traductions multilingues
local LangData = {
	fr = {
		info = "Infos", settings = "Réglages", ["more..."] = "Plus...", Translate = "Traduire",
		Name = "Nom : ", Username = "@", Time = "Heure : ", GameName = "Nom du jeu : ", GameID = "ID du jeu : ",
		UserID = "Ton ID : ", PlayersOnline = "Joueurs en ligne : ", AccountAge = "Âge du compte : ",
		Days = " jours", Executor = "Exécuteur : "
	},
	en = {
		info = "Info", settings = "Settings", ["more..."] = "More...", Translate = "Translate",
		Name = "Name: ", Username = "@", Time = "Time: ", GameName = "Game name: ", GameID = "Game ID: ",
		UserID = "Your ID: ", PlayersOnline = "Players online: ", AccountAge = "Account age: ",
		Days = " days", Executor = "Executor: "
	},
	es = {
		info = "Info", settings = "Configuración", ["more..."] = "Más...", Translate = "Traducir",
		Name = "Nombre: ", Username = "@", Time = "Hora: ", GameName = "Nombre del juego: ", GameID = "ID del juego: ",
		UserID = "Tu ID: ", PlayersOnline = "Jugadores en línea: ", AccountAge = "Edad de la cuenta: ",
		Days = " días", Executor = "Ejecutor: "
	},
	it = {
		info = "Info", settings = "Impostazioni", ["more..."] = "Altro...", Translate = "Traduci",
		Name = "Nome: ", Username = "@", Time = "Ora: ", GameName = "Nome del gioco: ", GameID = "ID del gioco: ",
		UserID = "Il tuo ID: ", PlayersOnline = "Giocatori online: ", AccountAge = "Età account: ",
		Days = " giorni", Executor = "Esecutore: "
	},
	de = {
		info = "Info", settings = "Einstellungen", ["more..."] = "Mehr...", Translate = "Übersetzen",
		Name = "Name: ", Username = "@", Time = "Uhrzeit: ", GameName = "Spielname: ", GameID = "Spiel-ID: ",
		UserID = "Deine ID: ", PlayersOnline = "Spieler online: ", AccountAge = "Account-Alter: ",
		Days = " Tage", Executor = "Executor: "
	}
}

local function GetLang()
	local lang = _G.SelectedLanguage
	if lang == "auto" then
		local locale = Players.LocalPlayer.LocaleId:sub(1, 2)
		lang = (LangData[locale] and locale) or "en"
	end
	return LangData[lang]
end

-- Section Translate
_G.Sections["Translate"] = function(parent)
	parent:ClearAllChildren()

	local langs = {"fr", "en", "es", "it", "de"}
	local langNames = {fr="Français", en="English", es="Español", it="Italiano", de="Deutsch"}

	local Layout = Instance.new("UIListLayout", parent)
	Layout.Padding = UDim.new(0, 8)
	Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	Layout.SortOrder = Enum.SortOrder.LayoutOrder

	for _, code in ipairs(langs) do
		local btn = Instance.new("TextButton", parent)
		btn.Size = UDim2.new(0.9, 0, 0, 40)
		btn.Text = "\240\159\140\144 " .. langNames[code]
		btn.BackgroundColor3 = Color3.fromRGB(0, 30, 10)
		btn.TextColor3 = Color3.fromRGB(0, 255, 128)
		btn.Font = Enum.Font.Arcade
		btn.TextScaled = true
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
		Instance.new("UIStroke", btn).Color = Color3.fromRGB(0, 255, 128)

		btn.MouseButton1Click:Connect(function()
			_G.SelectedLanguage = code
			ShowSection("info")
		end)
	end
end

-- Interface principale
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "FlshtyHub"
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, HUB_WIDTH, 0, HUB_HEIGHT)
MainFrame.Position = UDim2.new(0.5, -HUB_WIDTH/2, 0.5, -HUB_HEIGHT/2)
MainFrame.BackgroundColor3 = Color3.fromRGB(130, 0, 255)
MainFrame.BackgroundTransparency = 0.1
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.ClipsDescendants = true

Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 20)

local UIStroke = Instance.new("UIStroke", MainFrame)
UIStroke.Thickness = 3
UIStroke.Color = Color3.fromRGB(255, 20, 147)
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

spawn(function()
	while true do
		UIStroke.Color = Color3.fromRGB(math.random(150,255), 20, math.random(150,255))
		wait(0.08)
	end
end)

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "\240\159\148\165 FLSHTY HUB \240\159\148\165"
Title.TextColor3 = Color3.fromRGB(57, 255, 20)
Title.Font = Enum.Font.Arcade
Title.TextScaled = true

local CloseBtn = Instance.new("TextButton", MainFrame)
CloseBtn.Size = UDim2.new(0, 60, 0, 30)
CloseBtn.Position = UDim2.new(1, -70, 0, 5)
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
CloseBtn.Text = "CLOSE"
CloseBtn.Font = Enum.Font.Arcade
CloseBtn.TextScaled = true
CloseBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0, 6)

local DeployButton = Instance.new("ImageButton", ScreenGui)
DeployButton.Name = "DeployButton"
DeployButton.Size = UDim2.new(0, 59, 0, 59)
DeployButton.Position = UDim2.new(0, 20, -0.5, 200)
DeployButton.BackgroundTransparency = 0
DeployButton.Image = "rbxassetid://72763607239056"
DeployButton.AutoButtonColor = true
DeployButton.Active = true
DeployButton.Draggable = true

local NavFrame = Instance.new("Frame", MainFrame)
NavFrame.Size = UDim2.new(0, 110, 1, -40)
NavFrame.Position = UDim2.new(0, 10, 0, 40)
NavFrame.BackgroundColor3 = Color3.fromRGB(20, 0, 40)
NavFrame.BackgroundTransparency = 0.2
Instance.new("UICorner", NavFrame).CornerRadius = UDim.new(0, 10)

local ContentFrame = Instance.new("Frame", MainFrame)
ContentFrame.Name = "ContentFrame"
ContentFrame.Position = UDim2.new(0, 125, 0, 40)
ContentFrame.Size = UDim2.new(1, -135, 1, -50)
ContentFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
ContentFrame.BackgroundTransparency = 0.6
ContentFrame.ClipsDescendants = true
Instance.new("UICorner", ContentFrame).CornerRadius = UDim.new(0, 12)

function ShowSection(name)
	for _, child in pairs(ContentFrame:GetChildren()) do
		child:Destroy()
	end
	if _G.Sections and type(_G.Sections[name]) == "function" then
		_G.Sections[name](ContentFrame)
	else
		local label = Instance.new("TextLabel", ContentFrame)
		label.Size = UDim2.new(1, 0, 0, 30)
		label.Position = UDim2.new(0, 0, 0, 10)
		label.Text = "Section: "..name
		label.Font = Enum.Font.GothamBold
		label.TextColor3 = Color3.new(1,1,1)
		label.TextScaled = true
		label.BackgroundTransparency = 1
	end
end

local sections = {"info", "settings", "Translate", "more..."}
for i, secName in ipairs(sections) do
	local lang = GetLang()
	local btn = Instance.new("TextButton", NavFrame)
	btn.Size = UDim2.new(1, 0, 0, 40)
	btn.Position = UDim2.new(0, 0, 0, (i-1)*45 + 5)
	btn.Text = lang[secName] or secName
	btn.Font = Enum.Font.Arcade
	btn.TextScaled = true
	btn.BackgroundColor3 = Color3.fromRGB(200, 0, 200)
	btn.TextColor3 = Color3.fromRGB(0, 255, 255)
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 12)
	btn.MouseButton1Click:Connect(function()
		ShowSection(secName)
	end)
end

local isOpen = true
DeployButton.MouseButton1Click:Connect(function()
	isOpen = not isOpen
	MainFrame.Visible = isOpen
end)
CloseBtn.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

ShowSection("info")
