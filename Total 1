-- Supprimer ancien hub s'il existe
local old = game.CoreGui:FindFirstChild("RollingRiches")
if old then old:Destroy() end

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "RollingRiches"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 300, 0, 200)
main.Position = UDim2.new(0.5, -150, 0.5, -100)
main.BackgroundColor3 = Color3.fromRGB(130, 0, 255)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 16)

local stroke = Instance.new("UIStroke", main)
stroke.Thickness = 2
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "Rolling Riches"
title.TextColor3 = Color3.fromRGB(57, 255, 20)
title.TextScaled = true
title.BackgroundTransparency = 1
title.Font = Enum.Font.Code

spawn(function()
	while wait(0.1) do
		stroke.Color = Color3.fromRGB(math.random(100,255), 0, math.random(100,255))
	end
end)

-- Bouton Get Win
local getWinBtn = Instance.new("TextButton", main)
getWinBtn.Size = UDim2.new(0.8, 0, 0, 40)
getWinBtn.Position = UDim2.new(0.1, 0, 0.35, 0)
getWinBtn.Text = "get win (money)"
getWinBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 200)
getWinBtn.TextColor3 = Color3.fromRGB(0, 255, 255)
getWinBtn.TextScaled = true
getWinBtn.Font = Enum.Font.Arcade
Instance.new("UICorner", getWinBtn).CornerRadius = UDim.new(0, 12)

-- Bouton Instant Win
local instantBtn = Instance.new("TextButton", main)
instantBtn.Size = UDim2.new(0.8, 0, 0, 40)
instantBtn.Position = UDim2.new(0.1, 0, 0.6, 0)
instantBtn.Text = "instant win"
instantBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 200)
instantBtn.TextColor3 = Color3.fromRGB(0, 255, 255)
instantBtn.TextScaled = true
instantBtn.Font = Enum.Font.Arcade
Instance.new("UICorner", instantBtn).CornerRadius = UDim.new(0, 12)

-- État
local getWinCooldown = false
local instantCooldown = false
local actionRunning = false
local currentAction = nil -- "getwin" ou "instant"

-- Fonctions
local function startCooldown(button, duration, label)
	for i = duration, 1, -1 do
		button.Text = label .. " ("..i.."s)"
		wait(1)
	end
	button.Text = label
end

-- Get Win logic
getWinBtn.MouseButton1Click:Connect(function()
	if actionRunning then
		getWinBtn.Text = "wait finish " .. currentAction
		wait(2)
		getWinBtn.Text = "get win (money)"
		return
	end
	if getWinCooldown then return end

	actionRunning = true
	currentAction = "get win"
	getWinBtn.Text = "executing..."
	loadstring(game:HttpGet("https://raw.githubusercontent.com/Flashtynooo/Roblox/refs/heads/Roll-rock/Farm%20win%20money"))()

	-- exécution

	actionRunning = false
	currentAction = nil
	getWinCooldown = true
	spawn(function()
		startCooldown(getWinBtn, 15, "get win (money)")
wait(15)
		getWinCooldown = false
	end)
end)

-- Instant Win logic
instantBtn.MouseButton1Click:Connect(function()
	if actionRunning then
		instantBtn.Text = "wait finish " .. currentAction
		wait(2)
		instantBtn.Text = "instant win"
		return
	end
	if instantCooldown then return end

	actionRunning = true
	currentAction = "instant win"
	instantBtn.Text = "executing..."
	loadstring(game:HttpGet("https://raw.githubusercontent.com/Flashtynooo/Roblox/refs/heads/Roll-rock/Instant%20win"))()
-- exécution

	actionRunning = false
	currentAction = nil
	instantCooldown = true
	spawn(function()
		startCooldown(instantBtn, 10, "instant win")
wait(10)
		instantCooldown = false
	end)
end)
